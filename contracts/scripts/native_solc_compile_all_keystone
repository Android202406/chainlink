#!/usr/bin/env bash

set -e

echo " ┌──────────────────────────────────────────────┐"
echo " │    Compiling Keystone contracts...           │"
echo " └──────────────────────────────────────────────┘"

SOLC_VERSION="0.8.19"

ROOT="$( cd "$(dirname "$0")" >/dev/null 2>&1 ; cd ../../ && pwd -P )"

FOUNDRY_PROFILE=keystone forge build \
  --extra-output-files abi \
  --extra-output-files bin \
  --out "$ROOT"/contracts/solc/v$SOLC_VERSION/keystone \
  --skip test
